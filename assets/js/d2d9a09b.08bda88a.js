"use strict";(self.webpackChunkboehs_com=self.webpackChunkboehs_com||[]).push([[510],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>h});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),p=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=p(e.components);return r.createElement(s.Provider,{value:n},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(t),m=a,h=c["".concat(s,".").concat(m)]||c[m]||d[m]||o;return t?r.createElement(h,i(i({ref:n},u),{},{components:t})):r.createElement(h,i({ref:n},u))}));function h(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[c]="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=t[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},6241:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=t(7462),a=(t(7294),t(3905));const o={},i="Resolving Brakeman Errors",l={permalink:"/blog/2020/03/03/resolving-brakeman-errors",source:"@site/blog/2020-03-03-resolving-brakeman-errors.md",title:"Resolving Brakeman Errors",description:'After running brakeman you\'ll get a report and, if there are new warnings, it will exit with a status code of "3". Typically, I only see two types of output from Brakeman. Either a large report where there are new warnings or a short report which is saying Brakeman is out of date.',date:"2020-03-03T00:00:00.000Z",formattedDate:"March 3, 2020",tags:[],readingTime:2.1,hasTruncateMarker:!0,authors:[],frontMatter:{},prevItem:{title:"Configuring a Heroku Review App to use another apps database",permalink:"/blog/2020/03/05/configuring-a-heroku-review-app-to-use-another-apps-database"},nextItem:{title:"Audio Gear",permalink:"/blog/2020/01/28/audio-gear"}},s={authorsImageUrls:[]},p=[{value:"Resolving New Warning(s) Detected",id:"resolving-new-warnings-detected",level:2},{value:"Brakeman&#39;s Out of Date",id:"brakemans-out-of-date",level:2}],u={toc:p},c="wrapper";function d(e){let{components:n,...t}=e;return(0,a.kt)(c,(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"After running ",(0,a.kt)("inlineCode",{parentName:"p"},"brakeman"),' you\'ll get a report and, if there are new warnings, it will exit with a status code of "3". Typically, I only see two types of output from Brakeman. Either a large report where there are new warnings or a short report which is saying Brakeman is out of date.'),(0,a.kt)("p",null,"I'll briefly explain resolving both."),(0,a.kt)("h2",{id:"resolving-new-warnings-detected"},"Resolving New Warning(s) Detected"),(0,a.kt)("p",null,"The long report."),(0,a.kt)("p",null,"Run ",(0,a.kt)("inlineCode",{parentName:"p"},"brakeman -I")," to get an interactive console for ignoring warnings. It will analyze your code base and then prompt you for where to find the ignore file. I've always used the default location of ",(0,a.kt)("inlineCode",{parentName:"p"},"config/brakeman.ignore"),", so I simply press ",(0,a.kt)("inlineCode",{parentName:"p"},"Enter")," to accept the default."),(0,a.kt)("p",null,"Then I almost always choose option ",(0,a.kt)("inlineCode",{parentName:"p"},"2")," to \"Hide previously ignored warnings\". This option is a bit confusing. It's the same as option 1 but doesn't show warnings you've already ignored."),(0,a.kt)("p",null,"At this point, brakeman will iterate over each new warning prompting you to ignore the warning. This is a critical point in your role here. ",(0,a.kt)("strong",{parentName:"p"},"You need to make sure the warning should be ignored or fixed.")," If this is a positive warning, you need to ",(0,a.kt)("inlineCode",{parentName:"p"},"Ctrl-C")," right now and go fix the code rather than ignoring the vulnerability. If it is a false-positive, you can ignore it here via ",(0,a.kt)("inlineCode",{parentName:"p"},"i")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"n"),". I recommend ",(0,a.kt)("inlineCode",{parentName:"p"},"n")," because it prompts for a note as to why this warning is a false-positive."),(0,a.kt)("p",null,"After you have resolved all warnings, it will (optionally) prompt you to remove fingerprints (outdated warnings). You need to input ",(0,a.kt)("inlineCode",{parentName:"p"},"y")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"yes")," here for it to actually remove the fingerprints."),(0,a.kt)("p",null,"Finally, you'll want to save changes via ",(0,a.kt)("inlineCode",{parentName:"p"},"1")," and, due to amnesia or disorder, Brakeman will again ask you where the ignore file is. I again just press ",(0,a.kt)("inlineCode",{parentName:"p"},"Enter")," because I use the default location. (I have no idea why the input and output would be in different locations.)"),(0,a.kt)("p",null,"You can run ",(0,a.kt)("inlineCode",{parentName:"p"},"brakeman"),' again and it should report "No warnings found". You\'re all ready to check the ignore file into source control and push it up to your CI.'),(0,a.kt)("h2",{id:"brakemans-out-of-date"},"Brakeman's Out of Date"),(0,a.kt)("p",null,"The short report."),(0,a.kt)("p",null,"This only appears if you're running ",(0,a.kt)("inlineCode",{parentName:"p"},"brakeman --enusre-latest")," (which I highly recommend)."),(0,a.kt)("p",null,"To fix, simply run ",(0,a.kt)("inlineCode",{parentName:"p"},"bundle update brakeman"),". This will update your ",(0,a.kt)("inlineCode",{parentName:"p"},"Gemfile.lock")," which is all you should need to change."),(0,a.kt)("p",null,"If you are locking brakeman in your ",(0,a.kt)("inlineCode",{parentName:"p"},"Gemfile")," (which I don't recommend), you should check Brakeman's ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/presidentbeef/brakeman/blob/master/CHANGES.md"},"CHANGES")," to make sure the new changes don't break whatever you're guarding against with the version locking."))}d.isMDXComponent=!0}}]);